Here is the exact prompt you can use to ask Copilot Agent to fix the logic in your existing query for BDFB panel extraction, making sure it counts panels only if breaker sizes are present and avoids exploding the record count incorrectly:


---

‚úÖ Prompt to Copilot Agent:

> I previously asked you to generate a query to identify BDFB panels from CPNG for migration to DC Track.

You're currently using two tables:

TBL_BDFB (which contains one row per BDFB, along with panel columns like PANEL_A, PANEL_B, etc.)

TBL_BDFB_DATA (which contains repeated rows for each BDFB and has over 1 lakh records)


‚ö†Ô∏è The current logic is incorrect and is resulting in 22,000+ panels, which is wrong.

üîÑ I want to revise the logic as follows:

Use only TBL_BDFB to determine the number of panels per BDFB

For each row in TBL_BDFB, check if columns like PANEL_A, PANEL_B, PANEL_C, etc. have breaker size values (i.e., are not null or not empty)

Only consider those panels where breaker size is present (e.g., PANEL_A_BREAKER_SIZE is not null)

For each valid panel, generate one record with:

BDFB Number

Panel Name (e.g., Panel A)

Breaker Size



Do not join or compare with TBL_BDFB_DATA, as it causes record duplication.

‚úÖ Output:

A corrected MySQL (or SQL Server if specified) query that produces 1 row per valid panel from TBL_BDFB

The result should show: BDFB Number, Panel Name, Breaker Size





---

Let me know if you want to include additional metadata like slot, IP, or mapping logic into DC Track asset format.
