Thanks! Since you want the Position in Row to be unique within the same Row Label and Location, and not just per Plant, here's how you can rephrase the Copilot prompt accordingly:


---

✅ Refined Copilot Prompt:

> I’m working on generating a DC-Track format for PLANT-BAY assets. I have the following fields:

Plant

Location

Row Label (always 99)

Position in Row


✅ The goal is:

The Position in Row must start from 1 and increment by 1 for each unique combination of Location and Row Label (not just by Plant).

This is because Row Label is the same (99) for all rows, and multiple plants can exist in the same location, so using Plant alone would cause duplicate Position in Row values for the same Location and Row Label.


✅ So I need a SQL query that:

Uses the combination of Location and Row Label as the partition key.

Orders by Name or any other suitable column.

Outputs: Plant, Location, Row Label, and Position in Row with no duplicates for the same Location + Row Label.




> Example:

SELECT
  plant,
  location,
  99 AS row_label,
  ROW_NUMBER() OVER (PARTITION BY location, 99 ORDER BY name) AS position_in_row
FROM plant_bay_table;




---

Let me know if you want to include any filters (like Status = 'Planned') or default values in the same query.

