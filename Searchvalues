Based on your screenshots and explanation, here's a Copilot Agent prompt that clearly guides it to compute the Rating (kVA), Rating (Vac), and Rating (A) for RPP assets—which are logically treated as PDUs in DC-Track.


---

✅ Prompt to Copilot Agent:

> I am working on migrating Remote Power Panel (RPP) assets from CPNG into DC-Track.
In DC-Track, RPPs should be treated as Floor PDUs, with only one distinction:

PDU Source = UPS

RPP Source = PDU


I have 2 tables:

TBL_AC_UPS_RPP contains the mapping between RPP and source PDU along with RPP_SRC_BRKR_SIZE, which gives breaker size.

TBL_AC_RPP_DATA_COLLECT has live polled readings per RPP (KW_PH_1, KW_PH_2, KW_PH_3, PF_PH_1, PF_PH_2, PF_PH_3, etc.)
Each RPP has around 24 readings (hourly).


Based on these, I want to calculate:

1. Rating (kVA):
If KW_PH_1, KW_PH_2, KW_PH_3 and PF values are available, use:

(KW_PH_1 + KW_PH_2 + KW_PH_3) / AVG(PF_PH_1, PF_PH_2, PF_PH_3) / 1000

Use NULLIF and COALESCE to avoid divide-by-zero; fallback PF = 0.95

If KW_PH_x values are NULL, default Rating (kVA) = '300'

Pick latest timestamp per RPP ID



2. Rating (Vac):
This is fixed as 208 (or fallback to COALESCE(208))





> 3. Rating (A):
Use RPP_SRC_BRKR_SIZE from TBL_AC_UPS_RPP table.

If not present, default to 500




Provide a SQL query that:

Joins TBL_AC_UPS_RPP and TBL_AC_RPP_DATA_COLLECT

Picks latest available reading per RPP

Outputs RPP_ID, Rating (kVA), Rating (Vac), Rating (A)

Includes Power Fed From, Model, Make, and static Planned status too





---

Let me know if you want the result formatted for Excel output (CSV style) or need a similar prompt for PDU again.
