Here's the precise and context-aware prompt you can use with Copilot Agent to generate the SQL for creating PowerPanel records from the RPP data:


---

✅ Prompt for Copilot Agent:

> I now want to generate the SQL for creating PowerPanel records using the data from the table tbl_ac_ups_r.

The PowerPanel names are not directly present in CPNG. Instead, we can derive them based on breaker number and rpp_id as follows:

For each unique rpp_id in tbl_ac_ups_r, count how many breaker numbers are mapped.

Divide the total number of breaker numbers by 2 to get the number of poles per panel.

For example, if 84 breakers are mapped to an rpp_id, create Panel 1 and Panel 2 with 42 poles each.

Similarly, for 40 breakers → Panel 1 and Panel 2 with 20 poles each.

The number of poles per panel should always be a multiple of 6, so please adjust accordingly.


Now, based on the previous query that generated records for RPP, and using the same set of DC Track columns that were used there:

Create new SQL insert statements or query logic for PowerPanel assets.

Use the derived panel names (Panel 1, Panel 2, etc.) for each rpp_id.

Populate all columns just like in the RPP query, but replace RPP name with the derived PowerPanel name.


Input already present in memory:

Table: tbl_ac_ups_r with rpp_id, breaker_number

Previous query for RPP asset creation (used DC Track mapping)

DC Track column mapping CSV


Output:

SQL to generate PowerPanel records for each rpp_id based on breaker counts and pole distribution

Panel names should be derived and assigned as explained

Column mappings should be the same as used for RPP


Please provide the SQL logic accordingly.




---

Let me know if you’d like to auto-populate the panel name in a specific format like "{RPP_Name} - Panel 1" or if you want to generate the output in CSV instead of SQL.
